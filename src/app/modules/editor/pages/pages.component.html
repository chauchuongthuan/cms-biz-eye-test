<div class="block w-full">
   <div class="w-full mb-[30px]">
      <h3 class="titlePage">Tạo bài viết</h3>
   </div>

   <div class="bg-[white] py-[16px] rounded-[10px]">
      <form [formGroup]="postForm" class="w-full">
         <div class="postContent">
            <div class="text-[16px] text-blue-100 font-bold px-[16px] pb-[16px] border-b border-[#f2f2f2]">Nội dung bài viết</div>
            <div class="p-[16px]">
               <div class="flex flex-wrap mx-[-8px]">
                  <div class="w-6/12 px-[8px] mb-[16px] tl-p:w-full">
                     <div class="w-12/12">
                        <label class="labelForm">Tiêu đề bài viết <span class="text-[#ff0000]">*</span></label>
                        <input
                           formControlName="title"
                           [ngClass]="submitted && postForm.get('title')?.errors ? 'ant-input-status-error ng-invalid' : ''"
                           class="input-title w-full"
                           nz-input
                           nzSize="large"
                           nzBorderless
                           placeholder="Tiêu đề"
                           (ngModelChange)="onChangeTitle('vi')"
                        />
                     </div>
                     <div class="pt-[16px]">
                        <label class="labelForm">Danh mục <span class="text-[#ff0000]">*</span></label>
                        <div class="flex items-center gap-4">
                           <div class="w-8/12">
                              <nz-select ngDefaultControl formControlName="postCategory" class="w-full" nzSize="large">
                                 <ng-container *ngIf="categories && categories.length">
                                    <nz-option
                                       [nzValue]="item.id"
                                       [nzLabel]="item.title"
                                       *ngFor="let item of categories"
                                    ></nz-option>
                                 </ng-container>
                              </nz-select>
                           </div>
                           <div class="w-4/12 flex items-center">
                              <a (click)="onCreateCategory()"
                                 class="text-[white] cursor-pointer uppercase flex w-full h-[40px] justify-center items-center py-[8px] px-[8px] lg:py-[16px] lg:px-[20px] bg-pink-100 hover:bg-blue-100 font-bold hover:text-[white]"
                              >
                                 Tạo danh mục
                              </a>
                           </div>
                        </div>
                     </div>
                  </div>

                  <div class="w-6/12 px-[8px] mb-[16px] tl-p:w-full">
                     <label class="labelForm">Slug</label>
                     <input
                        formControlName="title"
                        [ngClass]="submitted && postForm.get('title')?.errors ? 'ant-input-status-error ng-invalid' : ''"
                        class="input-title w-full"
                        nz-input
                        nzSize="large"
                        nzBorderless
                        placeholder="Tiêu đề"
                        (ngModelChange)="onChangeTitle('vi')"
                     />
                     <div class="pt-[16px]">
                        <label class="labelForm">Tag <span class="text-[#ff0000]">*</span></label>
                        <div class="flex items-center gap-4">
                           <div class="w-8/12">
                              <nz-select 
                                ngDefaultControl
                                class="w-full" 
                                nzSize="large"
                                formControlName="tags"
                                nzMode="tags"
                            >
                                <ng-container *ngIf="tags">
                                    <nz-option
                                        [nzValue]="item.name"
                                        [nzLabel]="item.name"
                                        *ngFor="
                                            let item of tags
                                        "
                                    ></nz-option>
                                </ng-container>
                            </nz-select>
                            </div>
                           <div class="w-4/12 flex items-center">
                              <a (click)="openTag()"
                                 class="text-[white] cursor-pointer uppercase flex w-full h-[40px] justify-center items-center py-[8px] px-[8px] lg:py-[16px] lg:px-[20px] bg-pink-100 hover:bg-blue-100 font-bold hover:text-[white]"
                              >
                                 Tạo tag
                              </a>
                           </div>
                        </div>
                     </div>
                  </div>

                  <div class="w-1/12 px-[8px] mb-[16px] tl-p:w-1/2">
                     <app-digitop-upload
                        [fileList]="image"
                        [title]="'Hình ảnh'"
                        CENSORSHIP
                        (changeFile)="changeFileUpload($event, 'image')"
                        class="w-full"
                        [multiple]="false"
                     ></app-digitop-upload>
                  </div>

                  <div class="w-1/12 px-[8px] mb-[16px] tl-p:w-1/2">
                     <app-digitop-upload
                        [fileList]="imageMb"
                        [title]="'Hình mobile'"
                        CENSORSHIP
                        class="w-full"
                        (changeFile)="changeFileUpload($event, 'image')"
                        [multiple]="false"
                     ></app-digitop-upload>
                  </div>

                  <div class="w-5/12 px-[8px] mb-[16px] tl-p:w-full">
                     <label class="labelForm">Trạng thái <span class="text-[#ff0000]">*</span></label>
                     <nz-select formControlName="status" name="status" [ngModel]="'1'" class="w-full" nzSize="large">
                        <nz-option nzValue="1" nzLabel="NEW"></nz-option>
                        <nz-option nzValue="2" nzLabel="IN_REVIEW"></nz-option>
                        <nz-option nzValue="3" nzLabel="CENSORSHIP"></nz-option>
                        <nz-option nzValue="4" nzLabel="PUBLISHED"></nz-option>
                     </nz-select>
                     <div class="mt-[16px]">
                        <label class="labelForm">Thứ tự <span class="text-[#ff0000]">*</span></label>
                        <input
                           formControlName="sortOrder"
                           [ngClass]="submitted && postForm.get('sortOrder')?.errors ? 'ant-input-status-error ng-invalid' : ''"
                           nz-input
                           class="w-full"
                           nzSize="large"
                           placeholder="Thứ tự"
                           type="number"
                           min="1"
                           step="1"
                        />
                     </div>
                  </div>

                  <div class="w-5/12 px-[8px] mb-[16px] tl-p:w-full">
                     <label class="labelForm">Ngày xuất bản <span class="text-[#ff0000]">*</span></label>
                     <nz-date-picker
                        class="w-full"
                        nzSize="large"
                        ngDefaultControl
                        formControlName="publishedAt"
                        style="width: 100%"
                     ></nz-date-picker>
                  </div>

                  <div class="w-full px-[8px] mb-[16px]">
                     <label class="labelForm">Nội dung bài viết <span class="text-[#ff0000]">*</span></label>

                     <app-digitop-editor
                        class="textEditor w-full"
                        nzSize="large"
                        [initData]="this.dataEditor"
                        (onChangeData)="onChangeEditor($event)"
                        (onChangeText)="onChangeText($event)"
                        placeHolder="Nội dung"
                     ></app-digitop-editor>
                  </div>

                  <div class="w-full px-[8px]">
                     <label class="labelForm">Mô tả bài viết <span class="text-[#ff0000]">*</span></label>

                     <nz-textarea-count [nzMaxCharacterCount]="100">
                        <textarea
                           class="w-full"
                           nzSize="large"
                           [ngClass]="
                              submitted && postForm.get('shortDescription')?.errors ? 'ant-input-status-error ng-invalid' : ''
                           "
                           rows="4"
                           formControlName="shortDescription"
                           nz-input
                           placeholder="Nhập thông tin"
                        ></textarea>
                     </nz-textarea-count>
                  </div>
               </div>
            </div>
         </div>

         <div class="SeoContent">
            <div class="text-[16px] text-blue-100 font-bold px-[16px] py-[16px] border-y border-[#f2f2f2]">Nội dung SEO</div>
            <div class="p-[16px]">
               <div class="flex flex-wrap mx-[-8px]">
                  <div class="w-1/12 px-[8px] mb-[16px] tl-p:w-full">
                     <app-digitop-upload
                        [fileList]="metaImage"
                        [title]="'Hình ảnh'"
                        CENSORSHIP
                        (changeFile)="changeFileUpload($event, 'image')"
                        class="w-full"
                        [multiple]="false"
                     ></app-digitop-upload>
                  </div>

                  <div class="w-11/12 px-[8px] mb-[16px] tl-p:w-full">
                     <div class="flex flex-wrap mx-[-8px]">
                        <div class="w-1/2 px-[8px] mb-[16px] tl-p:w-full">
                           <label class="labelForm">Tiêu đề <span class="text-[#ff0000]">*</span></label>
                           <input
                              formControlName="metaTitle"
                              [ngClass]="
                                 submitted && postForm.get('sortOrder')?.errors ? 'ant-input-status-error ng-invalid' : ''
                              "
                              nz-input
                              class="w-full"
                              nzSize="large"
                              placeholder="Nhập thông tin"
                              type="text"
                           />
                        </div>

                        <div class="w-1/2 px-[8px] mb-[16px] tl-p:w-full">
                           <label class="labelForm">Từ khóa <span class="text-[#ff0000]">*</span></label>
                           <input
                              formControlName="metaKeyword"
                              [ngClass]="
                                 submitted && postForm.get('sortOrder')?.errors ? 'ant-input-status-error ng-invalid' : ''
                              "
                              nz-input
                              class="w-full"
                              nzSize="large"
                              placeholder="Nhập thông tin"
                              type="text"
                           />
                        </div>

                        <div class="w-full px-[8px] mb-[16px]">
                           <label class="labelForm">Mô tả <span class="text-[#ff0000]">*</span></label>
                           <textarea
                              class="w-full"
                              nzSize="large"
                              rows="4"
                              formControlName="metaDescription"
                              nz-input
                              placeholder="Nhập thông tin"
                           ></textarea>
                        </div>
                     </div>
                  </div>
               </div>
               <button (click)="onSEO()" class="item btnBlue">Để xuất SEO</button>
            </div>
         </div>

         <div class="listBtn pt-[16px] px-[20px] border-t border-[#f2f2f2]">
            <div class="flex items-center justify-between">
               <button class="item btnGrey">hủy</button>

               <div class="flex items-center space-x-[8px]">
                  <label class="labelForm !mb-0">Bài viết nổi bật</label>
                  <nz-switch formControlName="feature"> </nz-switch>
                  <button (click)="onSave('view')" class="item btnBlue">xem trước</button>
                  <button (click)="onSave('published')" class="item btnPink">hoàn thành</button>
               </div>
            </div>
         </div>
      </form>
   </div>
   <button *ngIf="this.content" (click)="toggleResultModal()" nz-button nzType="primary" [nzSize]="'large'" nzShape="circle" style="position: fixed; right: 20px; bottom: 30px; overflow: hidden;">
    <img src="assets/chat.svg" alt="chatcms" style="width: 44px; object-fit: fill; border-radius: 50%; margin-top: -8px;" />
</button>
<app-result-seo-check #resultModal [content]="content"></app-result-seo-check>
<div class="wrap-loading" *ngIf="isLoadingSEO">
    <div class="card">
        <img src="assets/chat.svg" alt="chatcms" style="width: 42px" />
        <p><b>CHATGPT</b> đang soạn văn bản</p>
        <p>
            Tips: có thể bạn chưa biết, soạn thảo 1 văn bản bằng ChatGPT sẽ mất
            khoảng 15s
        </p>
        <div class="loader">
            <div class="spin"></div>
            <div class="bounce"></div>
        </div>
    </div>
</div> 

</div>
<app-editor-create-post-category
#createCategory
(onSuccess)="getCategories()"
></app-editor-create-post-category>
<app-create-edit-tag #createTag [isCreate]="true" (onSuccess)="getTag()"></app-create-edit-tag>

<!-- <div class="toolbar">
    <div class="gutter-row group-active">
        <button
            nz-button
            nzType="default"
            class="item"
            (click)="toggleCollapsed()"
        >
            <span nz-icon nzType="menu-unfold" nzTheme="outline"></span>
        </button>
        <button nz-button nzType="default" (click)="onSEO()" class="item">Để xuất SEO</button>
        <button
            nz-button
            nzType="default"
            (click)="onSave('view')"
            class="item"
        >
            Xem trước
        </button>
        <button
            nz-button
            nzType="primary"
            class="item"
            (click)="onSave('published')"
        >
            Lưu
        </button>
    </div>
</div>
<nz-divider nzPlain nzText="Nội dung bài viết"></nz-divider>
<ng-container style="position: relative;">
    <nz-spin [nzSpinning]="isLoading">
        <form nz-form [nzLayout]="'inline'" [formGroup]="postForm">
            <nz-layout nzTheme="light">
                <nz-header nzTheme="light"></nz-header>
                <nz-layout nzTheme="light">
                    <nz-content nzTheme="light">
                        <div class="inner-content">
                            <div nz-col class="gutter-row" [nzSpan]="24">
                                <nz-form-item>
                                    <nz-form-control>
                                        <nz-input-group>
                                            <input
                                                formControlName="title"
                                                [ngClass]="
                                                    submitted &&
                                                    postForm.get('title')
                                                        ?.errors
                                                        ? 'ant-input-status-error ng-invalid'
                                                        : ''
                                                "
                                                class="input-title"
                                                nz-input
                                                nzSize="large"
                                                nzBorderless
                                                placeholder="Tiêu đề"
                                                (ngModelChange)="
                                                    onChangeTitle('vi')
                                                "
                                            />
                                        </nz-input-group>
                                        <div
                                            *ngIf="
                                                submitted &&
                                                postForm.get('title')?.errors
                                            "
                                            class="input-text-error"
                                        >
                                            <span
                                                >Vui lòng nhập tên tiêu đề</span
                                            >
                                        </div>
                                    </nz-form-control>
                                </nz-form-item>
                            </div>

                            <div nz-col class="gutter-row" [nzSpan]="24">
                                <nz-form-item>
                                    <nz-form-control>
                                        <app-digitop-editor
                                            [initData]="this.dataEditor"
                                            (onChangeData)="
                                                onChangeEditor($event)
                                            "
                                            (onChangeText)="
                                                onChangeText($event)
                                            "
                                            placeHolder="Nội dung"
                                        ></app-digitop-editor>
                                    </nz-form-control>
                                </nz-form-item>
                            </div>
                        </div>
                    </nz-content>
                    <nz-sider
                        nzTheme="light"
                        class="menu-post"
                        nzCollapsible
                        [(nzCollapsed)]="isCollapsed"
                        [nzTrigger]="null"
                        [nzCollapsedWidth]="0"
                        nzWidth="300px"
                    >
                        <ng-container>
                            <div nz-row [nzGutter]="[hGutter, vGutter]">
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <app-digitop-upload
                                                [fileList]="image"
                                                [title]="'Hình ảnh'"CENSORSHIP
                                                (changeFile)="
                                                    changeFileUpload(
                                                        $event,
                                                        'image'
                                                    )
                                                "
                                                [multiple]="false"
                                            ></app-digitop-upload>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <app-digitop-upload
                                                [fileList]="imageMb"
                                                [title]="'Hình ảnh mobile'"
                                                (changeFile)="
                                                    changeFileUpload(
                                                        $event,
                                                        'imageMb'
                                                    )
                                                "
                                                [multiple]="false"
                                            ></app-digitop-upload>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                            </div>
                            <div nz-row [nzGutter]="[hGutter, vGutter]">
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <nz-form-label [nzSpan]="'vertical'"
                                                >Slug
                                                <span class="required"
                                                    >(*)</span
                                                ></nz-form-label
                                            >
                                            <nz-input-group>
                                                <input
                                                    formControlName="slug"
                                                    nz-input
                                                    placeholder="Tên slug"
                                                />
                                            </nz-input-group>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <nz-form-label [nzSpan]="'vertical'"
                                                >Assigned to</nz-form-label
                                            >
                                            <nz-select
                                                ngDefaultControl
                                                formControlName="assigned"
                                                nzMode="tags"
                                            >
                                                <ng-container
                                                    *ngIf="assignList"
                                                >
                                                    <nz-option
                                                        [nzValue]="item.id"
                                                        [nzLabel]="item.name"
                                                        *ngFor="
                                                            let item of assignList
                                                        "
                                                    ></nz-option>
                                                </ng-container>
                                            </nz-select>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                            </div>
                            <div nz-row [nzGutter]="[hGutter, vGutter]">
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <nz-form-label [nzSpan]="'vertical'"
                                                >Danh mục
                                                <span class="required"
                                                    >(*)</span
                                                ></nz-form-label
                                            >
                                            <nz-select
                                                [nzDropdownRender]="
                                                    templateCategory
                                                "
                                                ngDefaultControl
                                                formControlName="postCategory"
                                            >
                                                <ng-container
                                                    *ngIf="
                                                        categories &&
                                                        categories.length
                                                    "
                                                >
                                                    <nz-option
                                                        [nzValue]="item.id"
                                                        [nzLabel]="item.title"
                                                        *ngFor="
                                                            let item of categories
                                                        "
                                                    ></nz-option>
                                                </ng-container>
                                            </nz-select>
                                            <ng-template #templateCategory>
                                                <nz-divider></nz-divider>
                                                <div class="container">
                                                    <a
                                                        class="add-item"
                                                        (click)="
                                                            onCreateCategory()
                                                        "
                                                    >
                                                        <span
                                                            nz-icon
                                                            nzType="plus"
                                                        ></span>
                                                        Add item
                                                    </a>
                                                </div>
                                            </ng-template>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <nz-form-label [nzSpan]="'vertical'"
                                                >Tag</nz-form-label
                                            >
                                            <nz-select
                                                ngDefaultControl
                                                formControlName="tags"
                                                nzMode="tags"
                                            >
                                                <ng-container *ngIf="tags">
                                                    <nz-option
                                                        [nzValue]="item.name"
                                                        [nzLabel]="item.name"
                                                        *ngFor="
                                                            let item of tags
                                                        "
                                                    ></nz-option>
                                                </ng-container>
                                            </nz-select>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                      <nz-form-control>
                                        <nz-form-label [nzSpan]="'vertical'">Thời gian đọc<span class="required">(*)</span></nz-form-label>
                                        <nz-input-group>
                                          <input formControlName="readTime"
                                            [ngClass]="submitted && postForm.get('readTime')?.errors ? 'ant-input-status-error ng-invalid' : ''"
                                            nz-input placeholder="Thời gian đọc"/>
                                        </nz-input-group>
                                        <div *ngIf="submitted && postForm.get('readTime')?.errors" class="input-text-error">
                                          <span>Vui lòng nhập thời gian đọc</span>
                                        </div>
                                      </nz-form-control>
                                    </nz-form-item>
                                  </div>
                            </div>
                            <div nz-row [nzGutter]="[hGutter, vGutter]">
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <nz-form-label [nzSpan]="'vertical'"
                                                >Trạng thái</nz-form-label
                                            >
                                            <nz-select
                                                formControlName="status"
                                                name="status"
                                                [ngModel]="'1'"
                                            >
                                                <nz-option
                                                    nzValue="1"
                                                    nzLabel="NEW"
                                                ></nz-option>
                                                <nz-option
                                                    nzValue="2"
                                                    nzLabel="IN_REVIEW"
                                                ></nz-option>
                                                <nz-option
                                                    nzValue="3"
                                                    nzLabel="CENSORSHIP"
                                                ></nz-option>
                                                <nz-option
                                                    nzValue="4"
                                                    nzLabel="PUBLISHED"
                                                ></nz-option>
                                            </nz-select>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <nz-form-label [nzSpan]="'vertical'"
                                                >Publish At</nz-form-label
                                            >
                                            <nz-input-group>
                                                <nz-date-picker
                                                    ngDefaultControl
                                                    formControlName="publishedAt"
                                                    style="width: 100%"
                                                ></nz-date-picker>
                                            </nz-input-group>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                            </div>
                            <div nz-row [nzGutter]="[hGutter, vGutter]">
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <nz-form-label [nzSpan]="'vertical'"
                                                >Nổi bậc</nz-form-label
                                            >
                                            <nz-select
                                                ngDefaultControl
                                                formControlName="feature"
                                            >
                                                <nz-option
                                                    [nzValue]="false"
                                                    nzLabel="Không"
                                                ></nz-option>
                                                <nz-option
                                                    [nzValue]="true"
                                                    nzLabel="Có"
                                                ></nz-option>
                                            </nz-select>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <nz-form-label [nzSpan]="'vertical'"
                                                >Thứ tự
                                                <span class="required"
                                                    >(*)</span
                                                ></nz-form-label
                                            >
                                            <nz-input-group>
                                                <input
                                                    formControlName="sortOrder"
                                                    [ngClass]="
                                                        submitted &&
                                                        postForm.get(
                                                            'sortOrder'
                                                        )?.errors
                                                            ? 'ant-input-status-error ng-invalid'
                                                            : ''
                                                    "
                                                    nz-input
                                                    placeholder="Thứ tự"
                                                    type="number"
                                                    min="1"
                                                    step="1"
                                                />
                                            </nz-input-group>
                                            <div
                                                *ngIf="
                                                    submitted &&
                                                    postForm.get('sortOrder')
                                                        ?.errors
                                                "
                                                class="input-text-error"
                                            >
                                                <span
                                                    >Vui lòng nhập số thứ
                                                    tự</span
                                                >
                                            </div>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div nz-col class="gutter-row" [nzSpan]="24">
                                    <nz-form-item>
                                        <nz-form-control>
                                            <nz-form-label [nzSpan]="'vertical'"
                                                >Mô tả bài viết</nz-form-label
                                            >
                                            <nz-textarea-count
                                                [nzMaxCharacterCount]="100"
                                            >
                                                <textarea
                                                    [ngClass]="
                                                        submitted &&
                                                        postForm.get(
                                                            'shortDescription'
                                                        )?.errors
                                                            ? 'ant-input-status-error ng-invalid'
                                                            : ''
                                                    "
                                                    rows="4"
                                                    formControlName="shortDescription"
                                                    nz-input
                                                ></textarea>
                                            </nz-textarea-count>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                            </div>
                        </ng-container>
                    </nz-sider>
                </nz-layout>
            </nz-layout>
            <nz-divider nzPlain nzText="Nội dung SEO"></nz-divider>
            <div nz-row [nzGutter]="[hGutter, vGutter]"  >
                <div nz-col class="gutter-row" [nzSpan]="12">
                    <div nz-col [nzSpan]="24" class="gutter-row">
                        <div nz-row [nzGutter]="[hGutter, vGutter]">
                            <div nz-col class="gutter-row" [nzSpan]="4">
                                <nz-form-item>
                                    <nz-form-control>
                                        <app-digitop-upload
                                            [fileList]="metaImage"
                                            [title]="'Hình ảnh'"
                                            (changeFile)="
                                                changeFileUpload(
                                                    $event,
                                                    'metaImage'
                                                )
                                            "
                                            [multiple]="false"
                                        ></app-digitop-upload>
                                    </nz-form-control>
                                </nz-form-item>
                            </div>
                            <div nz-col class="gutter-row" [nzSpan]="20">
                                <nz-form-item>
                                    <nz-form-control>
                                        <nz-form-label [nzSpan]="'vertical'"
                                            >Meta title</nz-form-label
                                        >
                                        <nz-input-group>
                                            <input
                                                formControlName="metaTitle"
                                                nz-input
                                                placeholder="Meta tile"
                                            />
                                        </nz-input-group>
                                    </nz-form-control>
                                </nz-form-item>
                                <nz-form-item>
                                    <nz-form-control>
                                        <nz-form-label [nzSpan]="'vertical'"
                                            >Meta keywork</nz-form-label
                                        >
                                        <nz-input-group>
                                            <input
                                                formControlName="metaKeyword"
                                                nz-input
                                                placeholder="Tên danh mục"
                                            />
                                        </nz-input-group>
                                    </nz-form-control>
                                </nz-form-item>
                            </div>
                        </div>
                    </div>
                    <div nz-col class="gutter-row" [nzSpan]="24">
                        <nz-form-item>
                            <nz-form-control>
                                <nz-form-label [nzSpan]="'vertical'"
                                    >Meta description</nz-form-label
                                >
                                <nz-textarea-count
                                    [nzMaxCharacterCount]="100"
                                >
                                    <textarea
                                        rows="4"
                                        formControlName="metaDescription"
                                        nz-input
                                       
                                    ></textarea>
                                </nz-textarea-count>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
                <div nz-col class="gutter-row mt-16" [nzSpan]="12">
                    <div nz-row [nzGutter]="[hGutter, vGutter]">
                        <div nz-col class="gutter-row" [nzSpan]="18">
                            <div nz-row [nzGutter]="[hGutter, vGutter]">
                                <div
                                    nz-col
                                    class="gutter-row"
                                    [nzSpan]="24"
                                >
                                    <div class="flex">
                                        <img
                                            src="https://tose.shop/favicon.png"
                                            alt="logo"
                                            style="
                                                width: 40px;
                                                height: 40px;
                                                border-radius: 100%;
                                                border: 1px solid #ccc;
                                                padding: 5px;
                                            "
                                        />
                                        <div class="preview-google-title">
                                            <div class="title">
                                                {{
                                                    postForm.value
                                                        .metaTitle ||
                                                        "Dolorem volutpat sint elit cubilia taciti! Eum! Amet. "
                                                }}
                                            </div>
                                            <div class="domain">
                                                https://tose.shop
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div
                                    nz-col
                                    class="gutter-row"
                                    [nzSpan]="24"
                                >
                                <p nz-typography>
                                    {{
                                        postForm.value
                                            .metaDescription ||
                                            "Morbi omnis eos iusto assumenda quaerat rutrum nostra sequi vero illo porro, assumenda molestias dapibus primis distinctio neque congue wisi neque bibendum delectus assumenda in ligula. Consequuntur. Dolorum, temporibus. Cursus, eligendi elementum sapiente! Harum, gravida quas natoque ea fermentum modi porro accusamus asperiores facere egestas feugiat litora recusandae occaecat velit consectetuer ullam?"
                                    }}

                                </p>
                                </div>
                            </div>
                        </div>
                        <div nz-col class="gutter-row" [nzSpan]="6">
                            <div
                                nz-col
                                class="gutter-row mt-16"
                                [nzSpan]="4"
                            >
                                <img
                                    [src]="
                                        postForm.value.metaImage?.preview ||
                                        'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/c76e2119-acb7-4944-9085-d4f5ae2bda4a/go-flyease-easy-on-off-shoes-WS84pD.png'
                                    "
                                    alt="logo"
                                    style="width: 160px; height: 160px"
                                />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </nz-spin>
    <ng-container *ngIf="state == 'Cập nhật' && visible">
        <nz-divider nzText="Comment"></nz-divider>
        <app-editor-create-comment
            [user]="this.user"
            [idPost]="this.idPost"
            (onSuccess)="getComment()"
        ></app-editor-create-comment>
        <div
            *ngFor="let item of commentList; index as index"
            class="box-footer box-comments"
        >
            <div class="box-comment">
                <div class="img-circle img-sm" title="{{ item.author?.email }}">
                    <nz-avatar
                        *ngIf="item.author?.profileImage"
                        nzSize="small"
                        nzSrc="{{ item.author?.profileImage }}"
                    >
                    </nz-avatar>
                    <nz-avatar
                        *ngIf="!item.author?.profileImage"
                        nzSize="small"
                        nzText="{{ item.author.name[0] }}"
                        style="color: #f56a00; background-color: #fde3cf"
                    ></nz-avatar>
                </div>
                <div class="comment-text">
                    <span class="username">
                        {{ item.author?.name }}
                        <span>{{ item.createdAt }}</span>
                    </span>
                    <span
                        style="font-size: 12px"
                        *ngIf="item.updatedAt !== item.createdAt"
                    >
                        (Edited)
                    </span>
                    <span [innerHTML]="item.content"></span>
                </div>
                <div *ngIf="this.user.id == item.author.id">
                    <span
                        style="text-decoration: underline; cursor: pointer"
                        (click)="onEditComment(item, index)"
                        >Edit</span
                    >
                    <span> • </span>
                    <span
                        style="text-decoration: underline; cursor: pointer"
                        [nz-popconfirm]="'Bạn có chắc muốn xóa?'"
                        (nzOnConfirm)="onDeleteComment(item.id)"
                        >Delete</span
                    >
                </div>
                <app-editor-edit-comment
                    *ngIf="index + '' == openeEditComment"
                    #editComment
                    [user]="this.user"
                    (onClose)="getComment()"
                    (onSuccess)="getComment()"
                ></app-editor-edit-comment>
            </div>
        </div>
    </ng-container>
    <app-editor-create-post-category
        #createCategory
        (onSuccess)="getCategories()"
    ></app-editor-create-post-category>
    <button *ngIf="this.content" (click)="toggleResultModal()" nz-button nzType="primary" [nzSize]="'large'" nzShape="circle" style="position: fixed; right: 20px; bottom: 30px; overflow: hidden;">
        <img src="assets/chat.svg" alt="chatcms" style="width: 44px; object-fit: fill; border-radius: 50%; margin-top: -8px;" />
    </button>
</ng-container>
-->
